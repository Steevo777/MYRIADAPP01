<!DOCTYPE html>
<html>
<head>
 <script type='text/javascript' src='https://www.google.com/jsapi'></script>
    <head>
    <script type='text/javascript'>
      var speed= 0;
      var longlat= "";
      var count = 0;
      
	      google.load('visualization', '1', {packages:['gauge']});
	      google.setOnLoadCallback(drawChart);
	      function drawChart() {
	        var data = google.visualization.arrayToDataTable([
	          ['Label', 'Value'],
	          ['Speed', speed]
	          
	        ]);
	
	        var options = {
	          width: 300, height: 300,
	          redFrom: 90, redTo: 100,
	          yellowFrom:75, yellowTo: 90,
	          minorTicks: 5
	        };
	
	        var chart = new google.visualization.Gauge(document.getElementById('chart_div'));
	        chart.draw(data, options);
	        document.getElementById("speed_div").innerHTML = speed;
	      }
	      
      
     
	        function geolocation() {
	 
	            var options = { enableHighAccuracy: true };
	                watchID = navigator.geolocation.watchPosition(onSuccess, onError, options);
	 
	            function onSuccess(position) {
	                var lat = position.coords.latitude;
	                var lng = position.coords.longitude;
	                speed = position.coords.speed;
	 				drawChart();
	                                
	                count ++;
	                //localStorage.setItem("latitude", lat);
	                //localStorage.setItem("longitude", lng);
	                //longlat = "lat: " + lat + "long: " + lng + "Speed: " + speed;
	            }
	 
	            function onError(error) {
	              alert("error: " + error.message);
	                localStorage.setItem("error", error.message);
	            }
	 
	        }
	 
	        function removestorage() {
	            localStorage.removeItem("latitude");
	        }
	 
 
 			var myLoc = setInterval(function(){geolocation()},3000);
    </script>
    
     
  </head>
 
</head>
<body>
   <!--<input type="button" value="where am i?" onclick="geolocation()">-->
   <div id='chart_div'></div>
   <div id='speed_div'>Speedis:</div>
   <div id='speed2_div'></div>
   <script>
   var myVar = setInterval(function(){myTimer()}, 1000);

	function myTimer() {
	    var d = new Date();
	    var t = d.toLocaleTimeString();
	    document.getElementById("speed2_div").innerHTML = t;
	}
   </script>
   
</body>
</html>